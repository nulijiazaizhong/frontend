(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9863:function(e,t,a){Promise.resolve().then(a.bind(a,32888))},89318:function(e,t,a){"use strict";a.d(t,{ZP:function(){return f},b6:function(){return l},c1:function(){return c},w6:function(){return o}});var s=a(39824),n=a(97921),r=a(2265),i=a(63861);let o="",l="",d="";async function c(){let e=await fetch("https://api.ets2la.com/auth/discord"),t=await e.json();window.open(t,"_blank")}async function u(e){let t="https://api.ets2la.com/user/".concat(d),a=await fetch(t,{headers:{Authorization:"Bearer ".concat(o)}}),s=await a.json();return s.error||null==s.data?(o="",d="",null):(e(l=s.data.username),s)}function f(){let{setToken:e,setUsername:t}=(0,n.a)(),{data:a}=(0,i.ZP)("global",s.Yw,{refreshInterval:1e3});return(0,r.useEffect)(()=>{if(a){if(!a.token||!a.user_id){o="",d="",e("");return}o=a.token,d=a.user_id,e(o),u(t)}},[a,e,t]),null}},97921:function(e,t,a){"use strict";a.d(t,{H:function(){return o},a:function(){return l}});var s=a(57437),n=a(2265),r=a(89318);let i=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,n.useState)(r.w6),[l,d]=(0,n.useState)(r.b6);return(0,s.jsx)(i.Provider,{value:{token:a,username:l,setToken:o,setUsername:d},children:t})}function l(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},32888:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eY}});var s=a(57437),n=a(69073),r=a.n(n),i=a(47455),o=a.n(i);a(47960);var l=a(2265),d=a(37053),c=a(77712),u=a(30755);function f(){let[e,t]=l.useState(void 0);return l.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}var p=a(94508),m=a(62869),x=a(95186),h=a(6512),g=a(49027),b=a(20653);let j=g.fC;g.xz,g.x8;let v=g.h_,w=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.aV,{className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});w.displayName=g.aV.displayName;let N=(0,c.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y=l.forwardRef((e,t)=>{let{side:a="right",className:n,children:r,...i}=e;return(0,s.jsxs)(v,{children:[(0,s.jsx)(w,{}),(0,s.jsxs)(g.VY,{ref:t,className:(0,p.cn)(N({side:a}),n),...i,children:[(0,s.jsxs)(g.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(b.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),r]})]})});y.displayName=g.VY.displayName,l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.Dx,{ref:t,className:(0,p.cn)("text-lg font-semibold text-foreground",a),...n})}).displayName=g.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.dk,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",a),...n})}).displayName=g.dk.displayName;var k=a(93022),S=a(81103);let z=l.createContext(null);function _(){let e=l.useContext(z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let I=l.forwardRef((e,t)=>{let{defaultOpen:a=!0,open:n,onOpenChange:r,className:i,style:o,children:d,...c}=e,u=f(),[m,x]=l.useState(!1),[h,g]=l.useState(a),b=null!=n?n:h,j=l.useCallback(e=>{let t="function"==typeof e?e(b):e;r?r(t):g(t),document.cookie="".concat("sidebar:state","=").concat(t,"; path=/; max-age=").concat(604800)},[r,b]),v=l.useCallback(()=>u?x(e=>!e):j(e=>!e),[u,j,x]);l.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let w=b?"expanded":"collapsed",N=l.useMemo(()=>({state:w,open:b,setOpen:j,isMobile:u,openMobile:m,setOpenMobile:x,toggleSidebar:v}),[w,b,j,u,m,x,v]);return(0,s.jsx)(z.Provider,{value:N,children:(0,s.jsx)(S.pn,{delayDuration:0,children:(0,s.jsx)("div",{style:{"--sidebar-width":"14rem","--sidebar-width-icon":"3rem",...o},className:(0,p.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",i),ref:t,...c,children:d})})})});I.displayName="SidebarProvider";let C=l.forwardRef((e,t)=>{let{side:a="left",variant:n="sidebar",collapsible:r="offcanvas",className:i,children:o,...l}=e,{isMobile:d,state:c,openMobile:u,setOpenMobile:f}=_();return"none"===r?(0,s.jsx)("div",{className:(0,p.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:t,...l,children:o}):d?(0,s.jsx)(j,{open:u,onOpenChange:f,...l,children:(0,s.jsx)(y,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:a,children:(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:o})})}):(0,s.jsxs)("div",{ref:t,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":"collapsed"===c?r:"","data-variant":n,"data-side":a,children:[(0,s.jsx)("div",{className:(0,p.cn)("duration-300 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-in-out","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===n||"inset"===n?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,s.jsx)("div",{className:(0,p.cn)("duration-300 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-in-out md:flex","left"===a?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===n||"inset"===n?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...l,children:(0,s.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:o})})]})});C.displayName="Sidebar";let R=l.forwardRef((e,t)=>{let{className:a,onClick:n,...r}=e,{toggleSidebar:i}=_();return(0,s.jsxs)(m.z,{ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,p.cn)("h-7 w-7",a),onClick:e=>{null==n||n(e),i()},...r,children:[(0,s.jsx)(u.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});R.displayName="SidebarTrigger";let E=l.forwardRef((e,t)=>{let{className:a,...n}=e,{toggleSidebar:r}=_();return(0,s.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:(0,p.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",a),...n})});E.displayName="SidebarRail";let M=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("main",{ref:t,className:(0,p.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.8))] md:peer-data-[variant=inset]:peer-data-[state=expanded]:m-2 md:peer-data-[variant=inset]:peer-data-[state=expanded]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:rounded-br-lg md:peer-data-[variant=inset]:shadow",a),...n})});M.displayName="SidebarInset",l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(x.I,{ref:t,"data-sidebar":"input",className:(0,p.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",a),...n})}).displayName="SidebarInput";let Z=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,p.cn)("flex flex-col gap-2 p-2",a),...n})});Z.displayName="SidebarHeader";let D=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,p.cn)("flex flex-col gap-2 p-2",a),...n})});D.displayName="SidebarFooter",l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(h.Z,{ref:t,"data-sidebar":"separator",className:(0,p.cn)("mx-2 w-auto bg-sidebar-border",a),...n})}).displayName="SidebarSeparator";let A=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,p.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...n})});A.displayName="SidebarContent";let L=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,p.cn)("relative flex w-full min-w-0 flex-col p-2",a),...n})});L.displayName="SidebarGroup";let P=l.forwardRef((e,t)=>{let{className:a,asChild:n=!1,...r}=e,i=n?d.g7:"div";return(0,s.jsx)(i,{ref:t,"data-sidebar":"group-label",className:(0,p.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a),...r})});P.displayName="SidebarGroupLabel",l.forwardRef((e,t)=>{let{className:a,asChild:n=!1,...r}=e,i=n?d.g7:"button";return(0,s.jsx)(i,{ref:t,"data-sidebar":"group-action",className:(0,p.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",a),...r})}).displayName="SidebarGroupAction",l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,p.cn)("w-full text-sm",a),...n})}).displayName="SidebarGroupContent";let T=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"menu",className:(0,p.cn)("flex w-full min-w-0 flex-col gap-1",a),...n})});T.displayName="SidebarMenu";let O=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"menu-item",className:(0,p.cn)("group/menu-item relative",a),...n})});O.displayName="SidebarMenuItem";let X=(0,c.j)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),V=l.forwardRef((e,t)=>{let{asChild:a=!1,isActive:n=!1,variant:r="default",size:i="default",tooltip:o,className:l,...c}=e,u=a?d.g7:"button",{isMobile:f,state:m}=_(),x=(0,s.jsx)(u,{ref:t,"data-sidebar":"menu-button","data-size":i,"data-active":n,className:(0,p.cn)(X({variant:r,size:i}),l),...c});return o?("string"==typeof o&&(o={children:o}),(0,s.jsxs)(S.u,{children:[(0,s.jsx)(S.aJ,{asChild:!0,children:x}),(0,s.jsx)(S._v,{side:"right",align:"center",hidden:"collapsed"!==m||f,...o})]})):x});V.displayName="SidebarMenuButton",l.forwardRef((e,t)=>{let{className:a,asChild:n=!1,showOnHover:r=!1,...i}=e,o=n?d.g7:"button";return(0,s.jsx)(o,{ref:t,"data-sidebar":"menu-action",className:(0,p.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",a),...i})}).displayName="SidebarMenuAction",l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,p.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a),...n})}).displayName="SidebarMenuBadge",l.forwardRef((e,t)=>{let{className:a,showIcon:n=!1,...r}=e,i=l.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,s.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,p.cn)("rounded-md h-8 flex gap-2 px-2 items-center",a),...r,children:[n&&(0,s.jsx)(k.O,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,s.jsx)(k.O,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})}).displayName="SidebarMenuSkeleton",l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,p.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",a),...n})}).displayName="SidebarMenuSub",l.forwardRef((e,t)=>{let{...a}=e;return(0,s.jsx)("li",{ref:t,...a})}).displayName="SidebarMenuSubItem",l.forwardRef((e,t)=>{let{asChild:a=!1,size:n="md",isActive:r,className:i,...o}=e,l=a?d.g7:"a";return(0,s.jsx)(l,{ref:t,"data-sidebar":"menu-sub-button","data-size":n,"data-active":r,className:(0,p.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===n&&"text-xs","md"===n&&"text-sm","group-data-[collapsible=icon]:hidden",i),...o})}).displayName="SidebarMenuSubButton";var B=a(25922);function F(e){let{children:t,...a}=e;return(0,s.jsx)(B.f,{...a,children:t})}var W=a(84190),Y=a(42306),J=a(27447),U=a(3991),G=a(14938),H=a(69751),q=a(46398),Q=a(18537),K=a(66140),$=a(11),ee=a(36803),et=a(22135),ea=a(34763),es=a(51884),en=a(57570),er=a(39824),ei=a(99376),eo=a(97921),el=a(93772),ed=a(63861),ec=a(54224);function eu(e){let{toggleSidebar:t}=e,{data:a}=(0,ed.ZP)("update",Y.UP,{refreshInterval:6e4}),{data:n}=(0,ed.ZP)("metadata",Y.ZX),{token:r,username:i,setToken:o,setUsername:d}=(0,eo.a)(),c=(0,J.SE)(),u=(0,ei.useRouter)(),f=(0,ei.usePathname)(),{theme:p}=(0,B.F)(),x=e=>f==e?"font-medium bg-secondary transition-all hover:shadow-md active:scale-95 duration-200":"font-medium transition-all hover:shadow-md active:scale-95 duration-200";return(0,s.jsxs)(C,{className:"border-none font-geist",variant:"inset",children:[(0,s.jsx)(Z,{className:"bg-sidebarbg w-full",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,s.jsx)("p",{className:"text-sm font-semibold pl-2 cursor-pointer",onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/about")})},children:"ETS2LA"}),(0,s.jsx)("p",{className:"text-xs pl-2 font-semibold text-muted-foreground cursor-pointer",onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/changelog")})},children:n&&"v"+n.version||"ERROR: please refresh the page or purge .next/cache"})]}),a&&(0,s.jsx)(m.z,{size:"sm",variant:"outline",className:"w-full",onMouseDown:()=>{(0,Y.BN)()},children:(0,U.Iu)("frontend.sidebar.updates_available")})]})}),(0,s.jsxs)(A,{className:"bg-sidebarbg custom-scrollbar",children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(P,{className:"font-semibold",children:(0,U.Iu)("frontend.sidebar.main")}),(0,s.jsxs)(V,{className:x("/"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/")})},children:[(0,s.jsx)(G.Z,{})," ",(0,U.Iu)("frontend.sidebar.dashboard")]}),(0,s.jsxs)(V,{className:x("/visualization"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/visualization")})},children:[(0,s.jsx)(H.Z,{})," ",(0,U.Iu)("frontend.sidebar.visualization")]})]}),(0,s.jsxs)(L,{children:[(0,s.jsx)(P,{className:"font-semibold",children:(0,U.Iu)("frontend.sidebar.plugins")}),(0,s.jsxs)(V,{className:x("/plugins"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/plugins")})},children:[(0,s.jsx)(q.Z,{})," ",(0,U.Iu)("frontend.sidebar.manager")]}),(0,s.jsxs)(V,{className:x("/performance"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/performance")})},children:[(0,s.jsx)(Q.Z,{})," ",(0,U.Iu)("frontend.sidebar.performance")]})]}),(0,s.jsxs)(L,{children:[(0,s.jsx)(P,{className:"font-semibold",children:(0,U.Iu)("frontend.sidebar.help")}),(0,s.jsxs)(V,{className:x("/wiki"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/wiki")})},children:[(0,s.jsx)(K.Z,{})," ",(0,U.Iu)("frontend.sidebar.wiki")]}),(0,s.jsxs)(V,{className:x("/chat"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/chat")})},children:[(0,s.jsx)($.Z,{})," ",(0,U.Iu)("frontend.sidebar.chat")]})]})]}),(0,s.jsx)(E,{className:"z-[999]",onMouseDown:()=>{t()}}),(0,s.jsxs)(D,{className:"bg-sidebarbg pb-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(V,{className:x("/settings"),onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/settings")})},children:[(0,s.jsx)(ee.Z,{})," ",(0,U.Iu)("frontend.sidebar.settings")]}),(0,s.jsx)(T,{children:(0,s.jsx)(O,{children:(0,s.jsxs)(W.h_,{children:[(0,s.jsx)(W.$F,{asChild:!0,children:(0,s.jsxs)(V,{className:"w-full flex justify-between hover:shadow-md transition-all",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:""==r?(0,s.jsx)("span",{children:(0,U.Iu)("frontend.sidebar.anonymous")}):(0,s.jsx)("span",{children:i})}),(0,s.jsx)(et.Z,{className:"w-4 h-4 justify-self-end"})]})}),(0,s.jsx)(W.AW,{side:"top",className:"w-[--radix-popper-anchor-width] bg-transparent backdrop-blur-lg backdrop-brightness-75",children:""==r?(0,s.jsxs)(W.Xi,{onMouseDown:()=>{(0,l.startTransition)(async()=>{c(),u.push("/login")})},children:[(0,s.jsx)(ea.Z,{size:20})," ",(0,s.jsx)("span",{children:(0,U.Iu)("frontend.sidebar.sign_in")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(W.Xi,{children:[(0,s.jsx)(es.Z,{size:20})," ",(0,s.jsx)("span",{children:(0,U.Iu)("frontend.sidebar.account")})]}),(0,s.jsxs)(W.Xi,{onMouseDown:()=>{(0,er.wX)("global","token",""),(0,er.wX)("global","user_id",""),o(""),d(""),el.Am.success((0,U.Iu)("frontend.sidebar.sign_out_successful"),{description:(0,U.Iu)("frontend.sidebar.sign_out_description")})},children:[(0,s.jsx)(en.Z,{})," ",(0,s.jsx)("span",{children:(0,U.Iu)("frontend.sidebar.sign_out")})]})]})})]})})})]}),(0,s.jsx)(ec.Z,{url:"/stats",className:"w-full h-8 -my-4 pt-4"})]})]})}function ef(e){let{isCollapsed:t}=e,[a,n]=(0,l.useState)({x:0,y:0}),[r,i]=(0,l.useState)({x:0,y:0}),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[f,p]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(null);(0,l.useEffect)(()=>{i({x:window.screenX,y:window.screenY})},[]);let b=e=>{e.clientY<=40?d(!0):d(!1)};(0,l.useEffect)(()=>(window.addEventListener("mousemove",b),()=>{window.removeEventListener("mousemove",b)}),[]),(0,l.useEffect)(()=>{let e=e=>{if(m){let t=r.x+(e.screenX-a.x),s=r.y+(e.screenY-a.y);i({x:t,y:s}),window.pywebview._bridge.call("pywebviewMoveWindow",[t,s],"move"),n({x:e.screenX,y:e.screenY})}},t=()=>{x(!1),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};return m&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[m,r,a]);let j=e=>{e.target instanceof HTMLElement&&(e.preventDefault(),x(!0),n({x:e.screenX,y:e.screenY}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:g,className:"fixed top-0 left-[80px] right-0 h-[26px] z-30",style:{backgroundColor:"transparent"},onMouseMove:e=>{d(!0)},onMouseLeave:()=>{d(!1)}}),(0,s.jsxs)("div",{className:t&&"flex gap-1 absolute h-6 w-[59px] rounded-bl-lg top-0 right-0 items-center justify-center p-0 z-50 bg-sidebar transition-all pywebview-drag-region opacity-75 hover:opacity-100"||"flex gap-1 absolute h-6 w-[59px] rounded-bl-lg top-0 right-0 items-center justify-center p-0 z-50 bg-sidebar transition-all pywebview-drag-region",onMouseDown:j,children:[t&&(0,s.jsx)("div",{className:"absolute right-0 top-0 h-6 flex items-center pl-2.5 pr-12 transition-all bg-sidebar rounded-bl-lg z-[-10] duration-150 ".concat(o?"w-96 opacity-100":"w-0 opacity-0"),children:(0,s.jsx)("div",{className:"flex-grow h-1 bg-repeat bg-center text-muted font-geist-mono text-[12px] text-center",style:{backgroundImage:"radial-gradient(circle, currentColor 1px, transparent 1px)",backgroundSize:"10px 10px"},children:(0,s.jsx)("p",{className:"bg-sidebar w-16 justify-self-center -my-1.5 pointer-events-none text-xs",children:"move"})})}),(0,s.jsx)(S.pn,{children:(0,s.jsxs)(S.u,{delayDuration:250,children:[(0,s.jsx)(S.aJ,{onClick:e=>{u(!c),(0,Y.Xm)(c).then(()=>{el.Am.success("".concat(c?"Window is now on top":"Window is no longer on top"))})},onContextMenu:e=>{e.preventDefault(),p(!f),(0,Y.ue)(f).then(()=>{el.Am.success("".concat(f?"Window is now transparent":"Window is no longer transparent"))})},children:(0,s.jsx)("div",{className:"w-[11px] h-[11px] bg-green-500 rounded-full flex items-center justify-center"})}),(0,s.jsxs)(S._v,{className:"bg-sidebar border text-foreground font-geist",children:[(0,s.jsxs)("p",{className:"text-xs",children:[(0,s.jsx)("span",{className:"font-semibold text-muted-foreground",children:"LMB"})," Stay on top"]}),(0,s.jsxs)("p",{className:"text-xs",children:[(0,s.jsx)("span",{className:"font-semibold text-muted-foreground",children:"RMB"})," Transparency"]})]})]})}),(0,s.jsxs)(S.pn,{children:[(0,s.jsxs)(S.u,{delayDuration:250,children:[(0,s.jsx)(S.aJ,{onClick:()=>{(0,Y.wx)()},children:(0,s.jsx)("div",{className:"w-[11px] h-[11px] bg-yellow-500 rounded-full flex items-center justify-center"})}),(0,s.jsx)(S._v,{className:"bg-sidebar border text-white",children:(0,s.jsx)("p",{className:"text-xs",children:"Minimize"})})]}),(0,s.jsxs)(S.u,{delayDuration:250,children:[(0,s.jsx)(S.aJ,{onClick:()=>{(0,Y.sm)()},children:(0,s.jsx)("div",{className:"w-[11px] h-[11px] bg-red-500 rounded-full flex items-center justify-center"})}),(0,s.jsx)(S._v,{className:"bg-sidebar border text-white",children:(0,s.jsx)("p",{className:"text-xs",children:"Close"})})]})]})]}),!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 left-[80px] h-6 z-40",onMouseDown:j}),(0,s.jsx)("div",{className:"top-0 right-0 absolute z-50 w-4 h-4 my-[16px] mx-[-0.5px]",children:(0,s.jsxs)("svg",{viewBox:"4 -4 8 8",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:"hole",children:[(0,s.jsx)("rect",{x:"0",y:"0",width:"8",height:"8",fill:"white"}),(0,s.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"black"})]})}),(0,s.jsx)("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#18181b",mask:"url(#hole)"})]})}),(0,s.jsx)("div",{className:"top-0 right-0 absolute z-50 w-4 h-4 my-[0px] mx-[51px]",children:(0,s.jsxs)("svg",{viewBox:"4 -4 8 8",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:"hole",children:[(0,s.jsx)("rect",{x:"0",y:"0",width:"8",height:"8",fill:"white"}),(0,s.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"black"})]})}),(0,s.jsx)("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#18181b",mask:"url(#hole)"})]})})]})]})}let ep=e=>{let{...t}=e,{theme:a="system"}=(0,B.F)();return(0,s.jsx)(el.x7,{theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var em=a(32759),ex=a(69711);function eh(e){let{state:t,plugin_name:a,state_progress_percent:n}=e;return(0,s.jsxs)("div",{className:"h-min w-[354px] rounded-lg text-sm flex flex-col gap-2 font-semibold",children:[(0,s.jsxs)("div",{className:"flex justify-between text-start items-center",children:[(0,s.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:t}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground p-0",children:a})]}),(0,s.jsx)(em.E,{value:n,className:"pb-0"})]})}function eg(e){let{state:t,plugin_name:a}=e;return(0,s.jsx)("div",{className:"h-min w-[354px] rounded-lg text-sm flex flex-col gap-2 font-semibold",children:(0,s.jsxs)("div",{className:"flex justify-between text-start items-center",children:[(0,s.jsxs)("div",{className:"flex text-center content-center items-center gap-2",children:[(0,s.jsx)(ex.Z,{className:""}),(0,s.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:t})]}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground p-0",children:a})]})})}function eb(){let{data:e,error:t}=(0,ed.ZP)("states",()=>(0,Y.Bx)()),[a,n]=(0,l.useState)([]),[r,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=setInterval(()=>{(0,ed.JG)("states")},1e3);return()=>clearInterval(e)},[]),t&&console.error(t),(0,l.useEffect)(()=>{if(e){let t=[];for(let o in e){let l=o,d=e[o].status,c=e[o].progress,u=0;if(u=c<=1?Math.floor(100*c):Math.floor(c),r.includes(l)&&-1!=c){let e=r.indexOf(l);t.push(e);let n=a[e];el.Am.custom(e=>(0,s.jsx)(eh,{state:d,plugin_name:l,state_progress_percent:u}),{duration:1/0,id:n})}else if(-1!=c)n([...a,el.Am.custom(e=>(0,s.jsx)(eh,{state:d,plugin_name:l,state_progress_percent:u}),{duration:1/0})]),i([...r,l]),t.push(r.length);else if(r.includes(l)&&""!=d){let e=r.indexOf(l);t.push(e);let n=a[e];el.Am.custom(e=>(0,s.jsx)(eg,{state:d,plugin_name:l}),{duration:1/0,id:n})}else""!=d&&(n([...a,el.Am.custom(e=>(0,s.jsx)(eg,{state:d,plugin_name:l}),{duration:1/0})]),i([...r,l]),t.push(r.length))}for(let e=0;e<a.length;e++)t.includes(e)||(el.Am.dismiss(a[e]),a.splice(e,1),r.splice(e,1),el.Am.success((0,U.Iu)("frontend.states.complete"),{duration:1e3}))}},[e]),null}let ej=g.fC,ev=g.xz,ew=g.h_;g.x8;let eN=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.aV,{ref:t,className:(0,p.cn)("fixed inset-0 z-50 bg-black/40 backdrop-blur-[1px]  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});eN.displayName=g.aV.displayName;let ey=l.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(ew,{children:[(0,s.jsx)(eN,{}),(0,s.jsxs)(g.VY,{ref:t,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[n,(0,s.jsxs)(g.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(b.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ey.displayName=g.VY.displayName;let ek=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};ek.displayName="DialogHeader";let eS=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.Dx,{ref:t,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});eS.displayName=g.Dx.displayName;let ez=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.dk,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",a),...n})});ez.displayName=g.dk.displayName;var e_=a(53647),eI=a(63611),eC=a(1828),eR=a(85897),eE=a(30401),eM=a(32489),eZ=a(12339);function eD(e){let{onClose:t,open:a,json:n}=e,[r,i]=(0,l.useState)({});if(!n)return(0,s.jsx)("div",{});let o=e=>(0,s.jsx)("h3",{className:"font-medium",children:(0,U.Iu)(e)}),d=e=>(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,U.Iu)(e)}),c=e=>(0,s.jsx)("p",{children:(0,U.Iu)(e)}),u=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.Z,{})}),f=e=>e?(0,s.jsx)("div",{children:Array(e).fill(0).map((e,t)=>(0,s.jsx)("div",{className:"h-1"},t))}):(0,s.jsx)("div",{className:"h-4"}),p=e=>{let t=r[e.key]||e.options.default||"";if("string"==e.options.type)return(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,s.jsx)("h4",{children:(0,U.Iu)(e.name)}),(0,s.jsx)(x.I,{type:"text",placeholder:t,onChange:t=>{i(a=>({...a,[e.key]:t.target.value}))}}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]});if("number"==e.options.type){let t=e.options.default||0;return(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,s.jsx)("h4",{children:(0,U.Iu)(e.name)}),(0,s.jsx)(x.I,{type:"number",placeholder:t,className:"font-customMono",onChange:t=>{i(a=>({...a,[e.key]:t.target.value}))}}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]})}},g=e=>{let t=r[e.key]||e.options.default||0;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("h4",{children:[(0,U.Iu)(e.name),"  â€”  ",t,e.options.suffix,t]}),(0,s.jsx)(eR.i,{min:e.options.min,max:e.options.max,defaultValue:[t],step:e.options.step,onValueChange:t=>{i(a=>({...a,[e.key]:t}))}}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]})},b=e=>{let t=r[e.key]||e.options.default||!1;return(0,s.jsxs)("div",{className:"flex justify-between p-0 items-center"+y(e.options.border),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 pr-12",children:[(0,s.jsx)("h4",{className:"font-semibold",children:(0,U.Iu)(e.name)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]}),(0,s.jsx)(eC.r,{checked:t,onCheckedChange:t=>{i(a=>({...a,[e.key]:t}))}})]})},j=e=>{let t=r[e.key]||e.options.default||"";return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h4",{children:(0,U.Iu)(e.name)}),(0,s.jsxs)(e_.Ph,{defaultValue:t,onValueChange:t=>{i(a=>({...a,[e.key]:t}))},children:[(0,s.jsx)(e_.i4,{children:(0,s.jsx)(e_.ki,{placeholder:t,children:t})}),(0,s.jsx)(e_.Bw,{children:e.options.options.map(e=>(0,s.jsx)(e_.Ql,{value:e,children:e},e))})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]})},v=e=>{let t=r[e.key]||e.options.default||!1;return(0,s.jsxs)("div",{className:"flex gap-4 w-full items-center",children:[(0,s.jsx)(eI.Z,{pressed:t,onPressedChange:t=>{i(a=>({...a,[e.key]:t}))},className:"w-8 h-8 p-[7px] data-[state=on]:bg-background data-[state=on]:hover:bg-white/10 ",variant:"outline",children:t?(0,s.jsx)(eE.Z,{}):(0,s.jsx)(eM.Z,{})}),e.options.separator&&(0,s.jsx)(h.Z,{orientation:"vertical"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:(0,U.Iu)(e.name)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]})]})},w=e=>"submit"!=e.options.target?d((0,U.Iu)("frontend.dialog.not_supported","Button.target")):""!=e.title?(0,s.jsxs)("div",{className:"flex justify-between p-4 items-center"+y(e.options.border),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 pr-12",children:[(0,s.jsx)("h4",{className:"font-semibold",children:(0,U.Iu)(e.title)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]}),(0,s.jsx)(m.z,{variant:"outline",className:"min-w-32",onClick:()=>{t(r)},children:(0,U.Iu)(e.text)})]}):(0,s.jsx)("div",{className:"flex justify-between items-center"+y(e.options.border),children:(0,s.jsx)(m.z,{variant:"outline",className:"w-full",onClick:()=>{t(r)},children:(0,U.Iu)(e.text)})}),N=e=>{let t=e.value,a=e.min,n=e.max;return(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,s.jsx)(em.E,{value:(t-a)/(n-a)*100}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,U.Iu)(e.description)})]})},y=e=>e?" p-4 border rounded-md":"p-4",k=e=>{Array.isArray(e)||(e=[e]);let t=[];for(let a of e){let e=Object.keys(a)[0],n=a[e];"enabled_lock"==e&&t.push(d((0,U.Iu)("frontend.dialog.not_supported","EnabledLock"))),"title"==e&&t.push(o(n.text)),"description"==e&&t.push(d(n.text)),"label"==e&&t.push(c(n.text)),"separator"==e&&t.push(u()),"space"==e&&t.push(f(n.amount)),"group"==e&&("horizontal"==n.direction?t.push((0,s.jsx)("div",{className:"flex gap-4 w-full rounded-md"+y(n.border),children:k(n.components)})):t.push((0,s.jsx)("div",{className:"flex flex-col gap-4 w-full rounded-md"+y(n.border),children:k(n.components)}))),"form"==e&&t.push(k(n.components)),"tabview"==e&&t.push((0,s.jsxs)(eZ.mQ,{className:"w-full",defaultValue:n.components[0].tab.name,children:[(0,s.jsx)(eZ.dr,{className:"w-full bg-transparent border",children:n.components.map((e,t)=>(0,s.jsx)(eZ.SP,{value:e.tab.name,children:(0,U.Iu)(e.tab.name)},t))}),n.components.map((e,t)=>(0,s.jsx)(eZ.nU,{value:e.tab.name,className:"w-full rounded-md p-2 flex gap-6 flex-col",children:k(e)},t))]})),"tab"==e&&t.push(k(n.components)),"progress_bar"==e&&t.push(N(n)),"button"==e&&t.push(w(n)),"input"==e&&t.push(p(n)),"slider"==e&&t.push(g(n)),"switch"==e&&t.push(b(n)),"toggle"==e&&t.push(v(n)),"selector"==e&&t.push(j(n))}return t};return(0,s.jsxs)(ej,{open:a,children:[(0,s.jsx)(ev,{className:"absolute",children:(0,s.jsx)("div",{})}),(0,s.jsx)(ey,{children:(0,s.jsx)("div",{className:"flex flex-col gap-2 font-geist",children:k(n)})})]})}let eA=null;function eL(){let[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)({__html:""}),[r,i]=(0,l.useState)([]),[o,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(!0),[f,p]=(0,l.useState)(""),[x,h]=(0,l.useState)(null),g=(0,l.useRef)(x),{push:b}=(0,ei.useRouter)(),j=null;return(0,l.useEffect)(()=>{g.current=x},[x]),(0,l.useEffect)(()=>((eA=new WebSocket("ws://".concat(Y.ip,":37521"))).addEventListener("open",function(e){el.Am.success((0,U.Iu)("frontend.immediate.connected"))}),eA.addEventListener("message",function(e){let a=JSON.parse(e.data);if(j!==a){if(j=a,"ask"in a){let e=a.ask.text,s=a.ask.options,r=a.ask.description;n({__html:"<div>"+e+"</div>"}),i(s),d(r),t(!0)}else if("dialog"in a){p(a.dialog.json),u(!0),h(null);let e=setInterval(()=>{null!==g.current&&(null!==eA&&eA.send(JSON.stringify(g.current)),h(null),clearInterval(e))},200)}else if("page"in a)b(a.page);else{let e=a.type,t=a.text;"error"===e?el.Am.error(t):"success"===e?el.Am.success(t):"info"==e?el.Am.info(t):"warning"==e?el.Am.warning(t):(0,el.Am)(t)}}}),eA.addEventListener("close",function(e){el.Am.error((0,U.Iu)("frontend.immediate.disconnected"))}),eA.addEventListener("error",function(e){console.error("WebSocket error observed:",e)}),()=>{null!==eA&&eA.close(),eA=null}),[]),(0,s.jsxs)("div",{className:"absolute gap-2 flex",children:[(0,s.jsxs)(ej,{open:e,children:[(0,s.jsx)(ev,{children:(0,s.jsx)("div",{})}),(0,s.jsxs)(ey,{className:"bg-sidebarbg font-geist",children:[(0,s.jsx)(ek,{children:(0,s.jsx)(eS,{children:(0,s.jsx)("div",{dangerouslySetInnerHTML:a})})}),(0,s.jsx)(ez,{style:{whiteSpace:"pre-wrap"},children:o}),(0,s.jsx)("div",{className:"flex gap-2",children:r.map((e,a)=>(0,s.jsx)(m.z,{variant:"outline",onClick:()=>{null!==eA&&eA.send(JSON.stringify({response:e})),t(!1)},children:e},a))})]})]}),(0,s.jsx)(eD,{open:c,onClose:e=>{console.log(e),u(!1),h(e)},json:f})]})}var eP=a(43879);function eT(){let[e,t]=(0,l.useState)(!0);return(0,s.jsxs)(ej,{open:e,onOpenChange:t,children:[(0,s.jsx)(ev,{}),(0,s.jsxs)(ey,{className:"font-geist",children:[(0,s.jsx)(ek,{children:(0,s.jsx)(eS,{children:(0,U.Iu)("frontend.disclaimer.title")})}),(0,s.jsx)("p",{className:"text-muted-foreground",children:(0,U.Iu)("frontend.disclaimer.description.line1")}),(0,s.jsx)("p",{className:"text-muted-foreground",children:(0,U.Iu)("frontend.disclaimer.description.line2")}),(0,s.jsx)(m.z,{variant:"outline",onClick:()=>{t(!1)},children:(0,U.Iu)("frontend.disclaimer.ok")})]})]})}var eO=a(89318),eX=a(89504);let eV=(0,l.createContext)(void 0),eB=()=>{let e=(0,l.useContext)(eV);if(!e)throw Error("useCollapsed must be used within a CollapsedProvider");return e},eF=e=>{let{children:t}=e,[a,n]=(0,l.useState)(!1);return(0,s.jsx)(eV.Provider,{value:{isCollapsed:a,setIsCollapsed:n},children:t})};function eW(e){let{children:t}=e,{data:a,isLoading:n}=(0,ed.ZP)("language",Y.CX,{refreshInterval:2e3}),{isCollapsed:r,setIsCollapsed:i}=eB(),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[p,m]=(0,l.useState)(!0),x=f();(0,l.useEffect)(()=>{a&&((0,U.D0)(a),m(!0),(0,U.XJ)().then(()=>{m(!1)}))},[a]),(0,l.useEffect)(()=>{(0,er.Or)("global","snow",!0).then(e=>{d(!0===e)}),(0,er.Or)("global","fireworks",!0).then(e=>{u(!0===e)})});let h=new Date,g=h.getMonth(),b=h.getDate();return(0,l.useEffect)(()=>{(0,U.XJ)().then(()=>{m(!1)})},[]),(0,s.jsxs)("div",{className:"h-screen w-screen flex overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-50",children:[(g>=10||0===g)&&o&&(0,s.jsx)(eX.Z,{snowflakeCount:50,speed:[-.5,.5],wind:[-.5,.5],radius:[0,.5]}),(0===g&&1===b||11===g&&31===b)&&c&&(0,s.jsx)(eP.j,{className:"w-full h-full",options:{rocketsPoint:{min:0,max:100},delay:{min:500,max:2e3}}})]}),(0,s.jsx)(eO.ZP,{}),(0,s.jsx)(F,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:(p||n)&&(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full bg-sidebar flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(ex.Z,{className:"opacity-50"}),(0,s.jsx)("p",{className:"font-geist text-muted-foreground",children:"Loading translations..."})]})||(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eT,{}),(0,s.jsxs)(J.zq,{children:[(0,s.jsx)(ep,{position:r?"bottom-center":"bottom-right",toastOptions:{unstyled:!0,classNames:{toast:"rounded-lg shadow-lg backdrop-blur-md backdrop-brightness-75 w-[354px] border p-4 flex gap-2 items-center text-sm"}}}),(0,s.jsx)(ef,{isCollapsed:r}),(0,s.jsx)(eb,{}),(0,s.jsx)(eL,{}),(0,s.jsxs)(I,{open:!r,children:[(0,s.jsx)(eu,{toggleSidebar:()=>{i(!r)}}),(0,s.jsxs)(M,{className:"relative transition-all duration-300 overflow-hidden ".concat(r?"max-h-[100vh]":"max-h-[97.6vh]"),children:[(0,s.jsx)(J.ko,{className:"absolute h-2 z-20 rounded-tl-lg shadow-lg shadow-sky-500/20 bg-sky-500 top-0 left-0"}),x&&(0,s.jsx)(R,{className:"absolute top-2 left-2"}),t]})]})]})]})})]})}function eY(e){let{children:t}=e;return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("meta",{charSet:"UTF-8"}),(0,s.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("body",{className:"".concat(r().variable," ").concat(o().variable," antialiased bg-sidebarbg overflow-hidden"),children:(0,s.jsx)(eo.H,{children:(0,s.jsx)(eF,{children:(0,s.jsx)(eW,{children:t})})})})]})}},69711:function(e,t,a){"use strict";var s=a(57437),n=a(94508);t.Z=e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,n.cn)("animate-spin",t),children:(0,s.jsx)("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}},84190:function(e,t,a){"use strict";a.d(t,{$F:function(){return d},AW:function(){return c},Xi:function(){return u},bO:function(){return f},h_:function(){return l}});var s=a(57437),n=a(2265),r=a(70085),i=a(20653),o=a(94508);let l=r.fC,d=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,n.forwardRef((e,t)=>{let{className:a,inset:n,children:l,...d}=e;return(0,s.jsxs)(r.fF,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...d,children:[l,(0,s.jsx)(i.XCv,{className:"ml-auto"})]})}).displayName=r.fF.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=r.tu.displayName;let c=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...i}=e;return(0,s.jsx)(r.Uv,{children:(0,s.jsx)(r.VY,{ref:t,sideOffset:n,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});c.displayName=r.VY.displayName;let u=n.forwardRef((e,t)=>{let{className:a,inset:n,...i}=e;return(0,s.jsx)(r.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",a),...i})});u.displayName=r.ck.displayName;let f=n.forwardRef((e,t)=>{let{className:a,children:n,checked:l,...d}=e;return(0,s.jsxs)(r.oC,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...d,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(i.nQG,{className:"h-4 w-4"})})}),n]})});f.displayName=r.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,s.jsxs)(r.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(i.jXb,{className:"h-4 w-4 fill-current"})})}),n]})}).displayName=r.Rk.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,...i}=e;return(0,s.jsx)(r.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...i})}).displayName=r.__.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=r.Z0.displayName},47960:function(){}},function(e){e.O(0,[77,310,137,48,199,363,312,396,899,263,85,453,341,224,971,117,744],function(){return e(e.s=9863)}),_N_E=e.O()}]);